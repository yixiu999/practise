<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 利用对象封装自己的数学对象，里面有PI、最大值和最小值
        var myMath = {
            PI:3.1415926535,
            max:function() {
                var max = arguments[0];
                for(i = 1; i < arguments.length; i++){
                    if(arguments[i] > max ){
                        max = arguments[i];
                    }
                }
                return max;
            },
            min:function() {
                var min = arguments[0];
                for(i = 1; i < arguments.length; i++){
                    if(arguments[i] < min ){
                        min = arguments[i];
                    }
                }
                return min;
            }
        }
        console.log(myMath.max(2,6,5));
        console.log(myMath.min(2,6,5));



        // 猜数游戏
        // 先随机生成一个数，用户输入猜测数字
        // function getRandom(min,max){
        //     return Math.floor(Math.random() * (max - min)) + min;
        // }
        // // 设置一个1-10之间的随机数
        // var random = getRandom(1,10);
        // while(true){  //死循环
        //     var guess = prompt('猜猜是几？（请输入一个1-10之间的数）');
        //     if(guess > random){
        //         alert('猜大了！再猜猜！');
        //     }else if(guess < random){
        //         alert('猜小了！再猜猜！');
        //     }else if(guess = random){
        //         alert('你太帅了！猜对啦！');
        //         break
        //     }
        // }


        // var date = new Date();
        // console.log(date.getFullYear());  //年
        // console.log(date.getMonth() + 1);  //月，getMonth()返回的是上个月，所以要加1
        // console.log(date.getDate());  //日
        // console.log(date.getDay());  //星期


        // 封装一个函数，使时间格式为00：00：00
        function getTime(){
            var time = new Date();
            var h = time.getHours();
            // 利用三元表达式判断数字小于10时，在数字前面加0，达到01、02这种格式
            h = h < 10 ? '0' + h : h;
            var m = time.getMinutes();
            m = m < 10 ? '0' + m : m;
            var s = time.getSeconds();
            s = s < 10 ? '0' + s : s;
            return h + ':' + m + ':' + s;
        }
        console.log('现在是' + getTime());;


        // 倒计时的实现
        // 用预定时间的时间戳-现在时间的时间戳得到时间差，再转换成时分秒输出
        function countDown(time){
            var nowTime = +new Date();  //获得当前时间总的毫秒数
            var inputTime = +new Date(time);  //获得用户输入时间总的毫秒数
            var times = (inputTime - nowTime) / 1000;  //times剩余时间总的秒数
            var s = parseInt(times % 60);  //换算成倒计时的秒
            var m = parseInt(times / 60 % 60);  //换算成倒计时的分
            var h = parseInt(times / 60 / 60 % 60);  //换算成倒计时的时
            h = h < 10 ? '0' + h : h;
            m = m < 10 ? '0' + m : m;
            s = s < 10 ? '0' + s : s;
            return h + ':' + m + ':' + s ;
        }
        console.log('距离下班还有：' + countDown('2022-11-21 17:30:00'));


        // instanceof运算符，可以用来检测是否为数组
        // var arr = [];
        // console.log(arr instanceof Array);



        // 有一个包含工资的数组[1500,1200,2000,2100,1800]，要求把数组中工资超过2000的删除，剩余的放到新数组里面
        // var arr = [1500,1200,2000,2100,1800];
        // var newArr = [];
        // for(var i = 0; i < arr.length; i++){
        //     if(arr[i] < 2000){
        //         newArr.push(arr[i]);  //直接将小于2000的工资push到新数组
        //     }
        // }
        // console.log(newArr);



        // 数组去重案例：封装一个去重的函数unique
        // 思路是：利用indexOf()方法查找新数组，把旧数组里新数组没有的元素push到新数组
        // function unique(arr){
        //     var newArr = [];
        //     for(i = 0; i < arr.length; i++){
        //         if(newArr.indexOf(arr[i]) === -1){  
        //         //arr[i]是旧数组元素，indexOf(arr[i])是找新数组中是否有旧数组的第i个元素，找不到arr[i]元素就会返回-1，该元素就会push到新数组中
        //             newArr.push(arr[i]);
        //         }
        //     }
        //     return newArr;
        // }
        // var demo = unique(['a','x','s','a','d']);
        // var demo1 = unique(['blue','blue','green','red']);
        // console.log(demo);
        // console.log(demo1);



        // 查找字符串“abcoefoxyozzopp”中所有o出现的位置及次数
        // var str = 'abcoefoxyozzopp';
        // var index = str.indexOf('o');  // 将o的位置赋值给index
        // var number = 0
        // // console.log(index);
        // while(index !== -1){  //只要index不返回-1就是有符合条件的元素，然后旧可以执行循环找位置和次数
        //     // 找到一个输出一个
        //     console.log(index);
        //     number++;
        //     index = str.indexOf('o',index + 1);
        // }
        // console.log('o出现的次数是：' + number);


        // 课后作业：['red','blue','red','green','pink','red']，求red的出现位置和次数
        var arr = ['red','blue','red','green','pink','red'];
        var index = arr.indexOf('red');
        var num = 0;
        // console.log(index);
        while(index !== -1){
            console.log(index);
            num++;
            index = arr.indexOf('red',index+1);
        }
        console.log('red出现的次数是：' + num);


        // 判断一个字符串“abcoefoxyozzopp”中出现次数最多的字符，并统计其次数
        // 利用charAt()遍历字符串的每个字符，在利用对象的属性统计次数，然后遍历对象得到结果
        var str = 'abcoefoxyozzopp';
        var o = {};
        for(i = 0; i < str.length; i++){
            var chars = str.charAt(i);  //str.charAt(i)相当于str[i]
            // 判断字符串字符是否出现过，出现则o[chars]加1，没有则赋值为1
            // 关于这里为什么使用o[chars]调用对象属性，是因为调用对象属性有两种方法：o.属性名；o['属性名']；
            // 这里str遍历出来的字符是字符串型的，例如'a'，而不是a，所以刚好对应上第二种调用方法，所以用str[chars]
            if(o[chars]){
                o[chars]++;
            }else{
                o[chars] = 1;
            }
        }
        console.log(o);
        // 遍历对象
        var max = 0;
        var ch;
        for(var k in o){
            if(o[k] > max){
                max = o[k];
                ch = k;
            }
        }
        console.log(max);
        console.log('出现次数最多的是：' + ch);
    </script>
</head>
<body>
    
</body>
</html>